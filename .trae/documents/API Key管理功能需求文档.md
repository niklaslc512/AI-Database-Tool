# ğŸ”‘ API Keyç®¡ç†åŠŸèƒ½ - äº§å“éœ€æ±‚æ–‡æ¡£

## 1. äº§å“æ¦‚è¿°

API Keyç®¡ç†åŠŸèƒ½æ˜¯AIè¯­ä¹‰åŒ–æ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„æ ¸å¿ƒå®‰å…¨æ¨¡å—ï¼Œä¸ºå¼€å‘è€…è§’è‰²æä¾›APIå¯†é’¥çš„å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†èƒ½åŠ›ã€‚è¯¥åŠŸèƒ½æ”¯æŒç»†ç²’åº¦æƒé™æ§åˆ¶ã€æ•°æ®åº“å…³è”é…ç½®å’Œçµæ´»çš„è¿‡æœŸæ—¶é—´è®¾ç½®ï¼Œç¡®ä¿ç³»ç»ŸAPIè®¿é—®çš„å®‰å…¨æ€§å’Œå¯æ§æ€§ã€‚

æœ¬åŠŸèƒ½ä¸“ä¸ºå¼€å‘è€…è§’è‰²è®¾è®¡ï¼Œæä¾›ç›´è§‚çš„Webç•Œé¢è¿›è¡ŒAPIå¯†é’¥çš„åˆ›å»ºã€ç¼–è¾‘ã€æŸ¥çœ‹å’Œåˆ é™¤æ“ä½œï¼ŒåŒæ—¶æ”¯æŒä½¿ç”¨ç»Ÿè®¡å’Œå®‰å…¨å®¡è®¡åŠŸèƒ½ã€‚

## 2. æ ¸å¿ƒåŠŸèƒ½

### 2.1 ç”¨æˆ·è§’è‰²

| è§’è‰² | è®¿é—®æƒé™ | æ ¸å¿ƒåŠŸèƒ½ |
|------|----------|----------|
| å¼€å‘è€… (Developer) | API Keyç®¡ç†æƒé™ | åˆ›å»ºã€æŸ¥çœ‹ã€ç¼–è¾‘ã€åˆ é™¤è‡ªå·±çš„API Key |
| ç®¡ç†å‘˜ (Admin) | å…¨å±€API Keyç®¡ç†æƒé™ | æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·çš„API Keyï¼Œæ‰§è¡Œç®¡ç†æ“ä½œ |

### 2.2 åŠŸèƒ½æ¨¡å—

æœ¬API Keyç®¡ç†åŠŸèƒ½åŒ…å«ä»¥ä¸‹æ ¸å¿ƒé¡µé¢ï¼š

1. **API Keyåˆ—è¡¨é¡µé¢**: å±•ç¤ºAPI Keyåˆ—è¡¨ï¼Œæ”¯æŒæœç´¢ç­›é€‰å’Œæ‰¹é‡æ“ä½œ
2. **API Keyåˆ›å»ºé¡µé¢**: åˆ›å»ºæ–°çš„API Keyï¼Œé…ç½®æƒé™å’Œå…³è”æ•°æ®åº“
3. **API Keyè¯¦æƒ…é¡µé¢**: æŸ¥çœ‹API Keyè¯¦ç»†ä¿¡æ¯å’Œä½¿ç”¨ç»Ÿè®¡
4. **API Keyç¼–è¾‘é¡µé¢**: ä¿®æ”¹API Keyé…ç½®å’Œæƒé™è®¾ç½®

### 2.3 é¡µé¢è¯¦æƒ…

| é¡µé¢åç§° | æ¨¡å—åç§° | åŠŸèƒ½æè¿° |
|----------|----------|----------|
| API Keyåˆ—è¡¨é¡µé¢ | åˆ—è¡¨å±•ç¤ºæ¨¡å— | å±•ç¤ºAPI Keyåˆ—è¡¨ï¼ŒåŒ…å«åç§°ã€æƒé™ã€çŠ¶æ€ã€åˆ›å»ºæ—¶é—´ã€æœ€åä½¿ç”¨æ—¶é—´ã€åˆ°æœŸæ—¶é—´ç­‰ä¿¡æ¯ |
| API Keyåˆ—è¡¨é¡µé¢ | æœç´¢ç­›é€‰æ¨¡å— | æ”¯æŒæŒ‰åç§°ã€çŠ¶æ€ã€æƒé™ç±»å‹ã€åˆ°æœŸæ—¶é—´è¿›è¡Œæœç´¢å’Œç­›é€‰ |
| API Keyåˆ—è¡¨é¡µé¢ | æ‰¹é‡æ“ä½œæ¨¡å— | æ”¯æŒæ‰¹é‡å¯ç”¨ã€ç¦ç”¨ã€åˆ é™¤API Keyæ“ä½œ |
| API Keyåˆ›å»ºé¡µé¢ | åŸºæœ¬ä¿¡æ¯é…ç½® | è®¾ç½®API Keyåç§°ã€æè¿°ä¿¡æ¯ |
| API Keyåˆ›å»ºé¡µé¢ | æƒé™é…ç½®æ¨¡å— | é…ç½®å¢åˆ æ”¹æŸ¥æƒé™ï¼Œæ”¯æŒç»†ç²’åº¦æƒé™æ§åˆ¶ |
| API Keyåˆ›å»ºé¡µé¢ | æ•°æ®åº“å…³è”æ¨¡å— | é€‰æ‹©å…³è”çš„æ•°æ®åº“è¿æ¥IDæ•°ç»„ï¼Œæ”¯æŒå¤šæ•°æ®åº“è®¿é—® |
| API Keyåˆ›å»ºé¡µé¢ | è¿‡æœŸæ—¶é—´è®¾ç½® | è®¾ç½®API Keyè¿‡æœŸæ—¶é—´ï¼Œæ”¯æŒæ°¸ä¹…æœ‰æ•ˆé€‰é¡¹ |
| API Keyè¯¦æƒ…é¡µé¢ | åŸºæœ¬ä¿¡æ¯å±•ç¤º | æ˜¾ç¤ºAPI Keyçš„æ‰€æœ‰é…ç½®ä¿¡æ¯å’Œå½“å‰çŠ¶æ€ |
| API Keyè¯¦æƒ…é¡µé¢ | ä½¿ç”¨ç»Ÿè®¡æ¨¡å— | å±•ç¤ºAPI Keyçš„è°ƒç”¨æ¬¡æ•°ã€æœ€åä½¿ç”¨æ—¶é—´ã€ä½¿ç”¨è¶‹åŠ¿å›¾è¡¨ |
| API Keyè¯¦æƒ…é¡µé¢ | å®‰å…¨æ—¥å¿—æ¨¡å— | æ˜¾ç¤ºAPI Keyçš„ä½¿ç”¨æ—¥å¿—å’Œå®‰å…¨äº‹ä»¶è®°å½• |
| API Keyç¼–è¾‘é¡µé¢ | é…ç½®ä¿®æ”¹æ¨¡å— | ä¿®æ”¹API Keyçš„æƒé™è®¾ç½®ã€å…³è”æ•°æ®åº“å’Œè¿‡æœŸæ—¶é—´ |
| API Keyç¼–è¾‘é¡µé¢ | çŠ¶æ€ç®¡ç†æ¨¡å— | å¯ç”¨ã€ç¦ç”¨ã€é‡æ–°ç”ŸæˆAPI Key |

## 3. æ ¸å¿ƒæµç¨‹

### å¼€å‘è€…æ“ä½œæµç¨‹

å¼€å‘è€…ç™»å½•ç³»ç»Ÿåï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æµç¨‹ç®¡ç†API Keyï¼š

1. **è®¿é—®API Keyç®¡ç†é¡µé¢** â†’ æŸ¥çœ‹ç°æœ‰API Keyåˆ—è¡¨
2. **åˆ›å»ºæ–°API Key** â†’ é…ç½®æƒé™å’Œæ•°æ®åº“å…³è” â†’ ç”Ÿæˆå¯†é’¥
3. **æŸ¥çœ‹API Keyè¯¦æƒ…** â†’ è·å–ä½¿ç”¨ç»Ÿè®¡å’Œå®‰å…¨ä¿¡æ¯
4. **ç¼–è¾‘API Keyé…ç½®** â†’ ä¿®æ”¹æƒé™æˆ–å…³è”æ•°æ®åº“
5. **ç®¡ç†API KeyçŠ¶æ€** â†’ å¯ç”¨ã€ç¦ç”¨æˆ–åˆ é™¤å¯†é’¥

### ç®¡ç†å‘˜æ“ä½œæµç¨‹

ç®¡ç†å‘˜é™¤äº†æ‹¥æœ‰å¼€å‘è€…çš„æ‰€æœ‰æƒé™å¤–ï¼Œè¿˜å¯ä»¥ï¼š

1. **æŸ¥çœ‹å…¨å±€API Key** â†’ ç›‘æ§æ‰€æœ‰ç”¨æˆ·çš„API Keyä½¿ç”¨æƒ…å†µ
2. **æ‰§è¡Œå®‰å…¨å®¡è®¡** â†’ æ£€æŸ¥å¼‚å¸¸ä½¿ç”¨æ¨¡å¼å’Œå®‰å…¨é£é™©
3. **æ‰¹é‡ç®¡ç†æ“ä½œ** â†’ å¯¹å¤šä¸ªAPI Keyæ‰§è¡Œæ‰¹é‡æ“ä½œ

```mermaid
graph TD
  A[å¼€å‘è€…ç™»å½•] --> B[API Keyç®¡ç†é¡µé¢]
  B --> C[æŸ¥çœ‹API Keyåˆ—è¡¨]
  B --> D[åˆ›å»ºæ–°API Key]
  B --> E[ç¼–è¾‘ç°æœ‰API Key]
  B --> F[æŸ¥çœ‹API Keyè¯¦æƒ…]
  
  D --> G[é…ç½®åŸºæœ¬ä¿¡æ¯]
  G --> H[è®¾ç½®æƒé™]
  H --> I[å…³è”æ•°æ®åº“]
  I --> J[è®¾ç½®è¿‡æœŸæ—¶é—´]
  J --> K[ç”ŸæˆAPI Key]
  
  E --> L[ä¿®æ”¹é…ç½®]
  L --> M[æ›´æ–°æƒé™]
  M --> N[ä¿å­˜æ›´æ”¹]
  
  F --> O[æŸ¥çœ‹ä½¿ç”¨ç»Ÿè®¡]
  F --> P[æŸ¥çœ‹å®‰å…¨æ—¥å¿—]
```

## 4. ç”¨æˆ·ç•Œé¢è®¾è®¡

### 4.1 è®¾è®¡é£æ ¼

éµå¾ªç³»ç»ŸUIè®¾è®¡æ ‡å‡†ï¼Œé‡‡ç”¨ä»¥ä¸‹è®¾è®¡å…ƒç´ ï¼š

- **ä¸»è‰²è°ƒ**: ç»¿è‰²ç³» (#10b981) ä½œä¸ºä¸»è¦æ“ä½œæŒ‰é’®å’Œé‡è¦çŠ¶æ€æŒ‡ç¤º
- **è¾…åŠ©è‰²**: ç™½è‰²èƒŒæ™¯ (#ffffff)ã€æ·±ç°æ–‡æœ¬ (#1f2937)ã€æµ…ç°è¾¹æ¡† (#e2e8f0)
- **æŒ‰é’®é£æ ¼**: åœ†è§’è®¾è®¡ï¼Œå¸¦æœ‰è¾¹æ¡†å’Œé˜´å½±æ•ˆæœï¼Œæ‚¬åœæ—¶æœ‰è¿‡æ¸¡åŠ¨ç”»
- **å­—ä½“**: ç³»ç»Ÿé»˜è®¤å­—ä½“ï¼Œæ ‡é¢˜ä½¿ç”¨ç²—ä½“ï¼Œæ­£æ–‡ä½¿ç”¨å¸¸è§„å­—é‡
- **å¸ƒå±€é£æ ¼**: å¡ç‰‡å¼å¸ƒå±€ï¼Œæ¸…æ™°çš„å±‚æ¬¡ç»“æ„ï¼Œå“åº”å¼è®¾è®¡
- **å›¾æ ‡é£æ ¼**: ä½¿ç”¨Lucideå›¾æ ‡åº“ï¼Œçº¿æ€§é£æ ¼ï¼Œä¸ç•Œé¢æ•´ä½“é£æ ¼ä¿æŒä¸€è‡´

### 4.2 é¡µé¢è®¾è®¡æ¦‚è§ˆ

| é¡µé¢åç§° | æ¨¡å—åç§° | UIå…ƒç´  |
|----------|----------|--------|
| API Keyåˆ—è¡¨é¡µé¢ | é¡µé¢å¤´éƒ¨ | ç»¿è‰²æ¸å˜èƒŒæ™¯å¡ç‰‡ï¼ŒåŒ…å«é¡µé¢æ ‡é¢˜ã€æè¿°å’Œ"åˆ›å»ºAPI Key"æŒ‰é’®ï¼Œä½¿ç”¨ç»¿è‰²ä¸»è‰²è°ƒ |
| API Keyåˆ—è¡¨é¡µé¢ | æœç´¢ç­›é€‰åŒºåŸŸ | ç™½è‰²å¡ç‰‡å®¹å™¨ï¼ŒåŒ…å«æœç´¢è¾“å…¥æ¡†ã€çŠ¶æ€ç­›é€‰ä¸‹æ‹‰æ¡†ã€æƒé™ç±»å‹ç­›é€‰ï¼Œç»¿è‰²è¾¹æ¡†èšç„¦æ•ˆæœ |
| API Keyåˆ—è¡¨é¡µé¢ | æ•°æ®è¡¨æ ¼ | æ–‘é©¬çº¹è¡¨æ ¼ï¼Œç»¿è‰²è¡¨å¤´ï¼Œæ‚¬åœè¡Œé«˜äº®ï¼ŒçŠ¶æ€æ ‡ç­¾ä½¿ç”¨å¯¹åº”é¢œè‰²ï¼ˆç»¿è‰²=æ´»è·ƒï¼Œçº¢è‰²=è¿‡æœŸï¼Œç°è‰²=ç¦ç”¨ï¼‰ |
| API Keyåˆ—è¡¨é¡µé¢ | æ“ä½œæŒ‰é’® | å°å°ºå¯¸è½®å»“æŒ‰é’®ï¼Œç¼–è¾‘ï¼ˆç»¿è‰²ï¼‰ã€ç¦ç”¨ï¼ˆæ©™è‰²ï¼‰ã€åˆ é™¤ï¼ˆçº¢è‰²ï¼‰ï¼Œå¸¦è¾¹æ¡†å’Œæ‚¬åœæ•ˆæœ |
| API Keyåˆ›å»ºé¡µé¢ | è¡¨å•å®¹å™¨ | ç™½è‰²å¡ç‰‡å¸ƒå±€ï¼Œåˆ†æ­¥éª¤è¡¨å•è®¾è®¡ï¼Œæ¯ä¸ªæ­¥éª¤ä½¿ç”¨ç‹¬ç«‹çš„å¡ç‰‡åŒºåŸŸ |
| API Keyåˆ›å»ºé¡µé¢ | æƒé™é…ç½® | å¤é€‰æ¡†ç»„ï¼Œç»¿è‰²é€‰ä¸­çŠ¶æ€ï¼Œæ¸…æ™°çš„æƒé™è¯´æ˜æ–‡æœ¬ |
| API Keyåˆ›å»ºé¡µé¢ | æ•°æ®åº“é€‰æ‹© | å¤šé€‰ä¸‹æ‹‰æ¡†ï¼Œæ”¯æŒæœç´¢ï¼Œé€‰ä¸­é¡¹ä½¿ç”¨ç»¿è‰²æ ‡ç­¾æ˜¾ç¤º |
| API Keyè¯¦æƒ…é¡µé¢ | ä¿¡æ¯å±•ç¤ºå¡ç‰‡ | ç½‘æ ¼å¸ƒå±€çš„ä¿¡æ¯å¡ç‰‡ï¼Œé‡è¦ä¿¡æ¯ä½¿ç”¨ç»¿è‰²å¼ºè°ƒï¼Œç»Ÿè®¡æ•°æ®ä½¿ç”¨å›¾è¡¨å¯è§†åŒ– |
| API Keyç¼–è¾‘é¡µé¢ | ç¼–è¾‘è¡¨å• | ä¸åˆ›å»ºé¡µé¢ç›¸ä¼¼çš„è¡¨å•è®¾è®¡ï¼Œé¢„å¡«å……ç°æœ‰æ•°æ®ï¼Œä¿å­˜æŒ‰é’®ä½¿ç”¨ç»¿è‰²ä¸»è‰²è°ƒ |

### 4.3 å“åº”å¼è®¾è®¡

- **æ¡Œé¢ç«¯ä¼˜å…ˆ**: ä¸»è¦é’ˆå¯¹å¼€å‘è€…çš„æ¡Œé¢å·¥ä½œç¯å¢ƒè®¾è®¡
- **ç§»åŠ¨ç«¯é€‚é…**: è¡¨æ ¼åœ¨ç§»åŠ¨ç«¯è½¬æ¢ä¸ºå¡ç‰‡å¸ƒå±€ï¼Œä¿æŒåŠŸèƒ½å®Œæ•´æ€§
- **è§¦æ‘¸ä¼˜åŒ–**: æŒ‰é’®å’Œäº¤äº’å…ƒç´ æ»¡è¶³æœ€å°44pxçš„è§¦æ‘¸ç›®æ ‡è¦æ±‚

## 5. æ•°æ®æ¨¡å‹è®¾è®¡

### 5.1 API Keyæ•°æ®ç»“æ„

```typescript
interface ApiKey {
  id: string;                    // API Keyå”¯ä¸€æ ‡è¯†
  userId: string;                // æ‰€å±ç”¨æˆ·ID
  name: string;                  // API Keyåç§°
  apiKey: string;                // API Key (ak-å¼€å¤´çš„å­—ç¬¦ä¸²)
  permissions: Permission[];     // æƒé™æ•°ç»„
  databaseIds: string[];         // å…³è”æ•°æ®åº“IDæ•°ç»„
  expiresAt?: Date;             // è¿‡æœŸæ—¶é—´ï¼ˆå¯é€‰ï¼Œnullè¡¨ç¤ºæ°¸ä¹…ï¼‰
  isActive: boolean;            // æ˜¯å¦å¯ç”¨
  lastUsedAt?: Date;            // æœ€åä½¿ç”¨æ—¶é—´
  usageCount: number;           // ä½¿ç”¨æ¬¡æ•°
  createdAt: Date;              // åˆ›å»ºæ—¶é—´
  updatedAt: Date;              // æ›´æ–°æ—¶é—´
}

// æƒé™æšä¸¾
type Permission = 'read' | 'write' | 'delete' | 'admin';

// åˆ›å»ºAPI Keyè¯·æ±‚
interface CreateApiKeyRequest {
  name: string;
  permissions: Permission[];
  databaseIds: string[];
  expiresAt?: Date;
  description?: string;
}

// API Keyä½¿ç”¨ç»Ÿè®¡
interface ApiKeyStats {
  totalCalls: number;
  dailyCalls: number;
  weeklyCalls: number;
  monthlyCalls: number;
  lastCallTime?: Date;
  errorRate: number;
}
```

### 5.2 æ•°æ®åº“è¡¨è®¾è®¡

```sql
-- API Keysè¡¨
CREATE TABLE api_keys (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID NOT NULL REFERENCES users(id) ON DELETE CASCADE,
  name VARCHAR(100) NOT NULL,
  api_key VARCHAR(64) UNIQUE NOT NULL, -- ak-å¼€å¤´çš„å­—ç¬¦ä¸²
  permissions TEXT[] NOT NULL DEFAULT '{}',
  database_ids UUID[] NOT NULL DEFAULT '{}',
  expires_at TIMESTAMP WITH TIME ZONE,
  is_active BOOLEAN NOT NULL DEFAULT true,
  last_used_at TIMESTAMP WITH TIME ZONE,
  usage_count INTEGER NOT NULL DEFAULT 0,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- ç´¢å¼•
CREATE INDEX idx_api_keys_user_id ON api_keys(user_id);
CREATE INDEX idx_api_keys_api_key ON api_keys(api_key);
CREATE INDEX idx_api_keys_expires_at ON api_keys(expires_at);
CREATE INDEX idx_api_keys_is_active ON api_keys(is_active);

-- API Keyä½¿ç”¨æ—¥å¿—è¡¨
CREATE TABLE api_key_usage_logs (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  api_key_id UUID NOT NULL REFERENCES api_keys(id) ON DELETE CASCADE,
  endpoint VARCHAR(255) NOT NULL,
  method VARCHAR(10) NOT NULL,
  ip_address INET,
  user_agent TEXT,
  response_status INTEGER,
  response_time INTEGER,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- ä½¿ç”¨æ—¥å¿—ç´¢å¼•
CREATE INDEX idx_api_key_usage_logs_api_key_id ON api_key_usage_logs(api_key_id);
CREATE INDEX idx_api_key_usage_logs_created_at ON api_key_usage_logs(created_at DESC);
```

## 6. APIæ¥å£è®¾è®¡

### 6.1 RESTful APIç«¯ç‚¹

```typescript
// è·å–API Keyåˆ—è¡¨
GET /api/v1/api-keys
Query Parameters:
- page: number (é¡µç )
- limit: number (æ¯é¡µæ•°é‡)
- search: string (æœç´¢å…³é”®è¯)
- status: 'active' | 'inactive' | 'expired' (çŠ¶æ€ç­›é€‰)
- permission: Permission (æƒé™ç­›é€‰)

// åˆ›å»ºAPI Key
POST /api/v1/api-keys
Body: CreateApiKeyRequest

// è·å–API Keyè¯¦æƒ…
GET /api/v1/api-keys/:id

// æ›´æ–°API Key
PUT /api/v1/api-keys/:id
Body: Partial<CreateApiKeyRequest>

// åˆ é™¤API Key
DELETE /api/v1/api-keys/:id

// å¯ç”¨/ç¦ç”¨API Key
PATCH /api/v1/api-keys/:id/status
Body: { isActive: boolean }

// é‡æ–°ç”ŸæˆAPI Key
POST /api/v1/api-keys/:id/regenerate

// è·å–API Keyä½¿ç”¨ç»Ÿè®¡
GET /api/v1/api-keys/:id/stats

// è·å–API Keyä½¿ç”¨æ—¥å¿—
GET /api/v1/api-keys/:id/logs
Query Parameters:
- page: number
- limit: number
- startDate: string (ISOæ—¥æœŸ)
- endDate: string (ISOæ—¥æœŸ)
```

### 6.2 å“åº”æ ¼å¼ç¤ºä¾‹

```json
// æˆåŠŸå“åº” - API Keyåˆ—è¡¨
{
  "data": [
    {
      "id": "550e8400-e29b-41d4-a716-446655440000",
      "name": "ç”Ÿäº§ç¯å¢ƒAPI Key",
      "apiKey": "ak-1234567890abcdef1234567890abcdef",
      "permissions": ["read", "write"],
      "databaseIds": ["db_001", "db_002"],
      "isActive": true,
      "expiresAt": "2024-12-31T23:59:59Z",
      "lastUsedAt": "2024-01-15T10:30:00Z",
      "usageCount": 1250,
      "createdAt": "2024-01-01T00:00:00Z"
    }
  ],
  "pagination": {
    "page": 1,
    "limit": 10,
    "total": 25,
    "totalPages": 3
  }
}

// æˆåŠŸå“åº” - åˆ›å»ºAPI Key
{
  "id": "550e8400-e29b-41d4-a716-446655440000",
  "name": "æ–°API Key",
  "apiKey": "ak-1234567890abcdef1234567890abcdef", // ä»…åœ¨åˆ›å»ºæ—¶è¿”å›
  "permissions": ["read"],
  "databaseIds": ["db_001"],
  "isActive": true,
  "expiresAt": null,
  "createdAt": "2024-01-15T10:30:00Z"
}

// é”™è¯¯å“åº”
{
  "message": "API Keyåç§°å·²å­˜åœ¨",
  "timestamp": "2024-01-15T10:30:00Z",
  "path": "/api/v1/api-keys"
}
```

## 7. å®‰å…¨è€ƒè™‘

### 7.1 å¯†é’¥å®‰å…¨
- API Keyå¯†é’¥ä½¿ç”¨bcryptè¿›è¡Œå“ˆå¸Œå­˜å‚¨ï¼Œä¸å­˜å‚¨æ˜æ–‡
- å¯†é’¥ç”Ÿæˆä½¿ç”¨åŠ å¯†å®‰å…¨çš„éšæœºæ•°ç”Ÿæˆå™¨
- æ”¯æŒå¯†é’¥è½®æ¢ï¼Œæ—§å¯†é’¥æœ‰è¿‡æ¸¡æœŸ

### 7.2 æƒé™æ§åˆ¶
- åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼ˆRBACï¼‰
- ç»†ç²’åº¦æƒé™è®¾ç½®ï¼Œæœ€å°æƒé™åŸåˆ™
- API Keyæƒé™ä¸èƒ½è¶…è¿‡ç”¨æˆ·è‡ªèº«æƒé™

### 7.3 å®¡è®¡æ—¥å¿—
- è®°å½•æ‰€æœ‰API Keyæ“ä½œæ—¥å¿—
- è®°å½•API Keyä½¿ç”¨æƒ…å†µå’Œå¼‚å¸¸è®¿é—®
- æ”¯æŒå®‰å…¨äº‹ä»¶å‘Šè­¦

## 8. æŠ€æœ¯å®ç°è¦ç‚¹

### 8.1 å‰ç«¯æŠ€æœ¯æ ˆ
- **æ¡†æ¶**: Vue 3 + Composition API
- **æ ·å¼**: TailwindCSS 4 + DaisyUI 5
- **çŠ¶æ€ç®¡ç†**: Pinia
- **HTTPå®¢æˆ·ç«¯**: Axios
- **å›¾è¡¨**: ECharts (ç”¨äºä½¿ç”¨ç»Ÿè®¡)

### 8.2 åç«¯æŠ€æœ¯æ ˆ
- **æ¡†æ¶**: Express.js + TypeScript
- **æ•°æ®åº“**: PostgreSQL
- **è®¤è¯**: JWT + bcrypt
- **æ—¥å¿—**: Winston

### 8.3 å…³é”®å®ç°ç»†èŠ‚
- API Keyæ ¼å¼: `ak_` + 16ä½éšæœºå­—ç¬¦ä¸²ï¼ˆå…¬å¼€éƒ¨åˆ†ï¼‰
- å¯†é’¥æ ¼å¼: `sk_` + 32ä½éšæœºå­—ç¬¦ä¸²ï¼ˆç§å¯†éƒ¨åˆ†ï¼‰
- æƒé™éªŒè¯ä¸­é—´ä»¶é›†æˆ
- è‡ªåŠ¨è¿‡æœŸæ¸…ç†ä»»åŠ¡
- ä½¿ç”¨ç»Ÿè®¡å®æ—¶æ›´æ–°

---

*æœ¬æ–‡æ¡£å°†æ ¹æ®å¼€å‘è¿›åº¦å’Œç”¨æˆ·åé¦ˆæŒç»­æ›´æ–°å®Œå–„ã€‚*